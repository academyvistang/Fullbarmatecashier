@model BarAndRestaurantMate.Models.HotelMenuModel

@section scripts
 {

    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    @*<script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>*@
    <!--Reference the autogenerated SignalR hub script. -->
    @*<script src="~/signalr/hubs"></script>*@
    <!--SignalR script to update the chat page and send messages.-->
    @*<script src="~/Scripts/barconnection.js"></script>
    @*<script src="~/Scripts/callerconnection.js"></script>*@*@

    <script>
    $(function ()
    {


        $("#CustomerPay").click(function ()
        {
            var r = confirm("You have indicated that the customer has paid in full. Please confirm.!");
            return r;
        });

        $("#CustomerProcess").click(function ()
        {
            var r = confirm("You have indicated that the customer has paid in full. Please confirm.!");
            return r;
        });

        var CanaddItemInt = $("#CanaddItemInt").val();

        $(".ItemRemove").click(function ()
        {
            if (CanaddItemInt == 1)
            {
                $(this).parent().parent().remove();
            }
        });

        $(".ItemRemoveBill").click(function ()
        {
            if (CanaddItemInt == 1)
            {
                $(this).parent().parent().remove();
            }
        });



        @*$(".PlaceOrderByWaitress").click(function ()
        {

            var id = $(this).attr("id");
            var strqty = "#quantity_" + id;
            var qty = $(strqty).val();
            var guestId = $("#GuestId").val();
            var tableId = $("#TableId").val();
            var guestOrderId = $("#GuestOrderId").val();

            //itemId, int? quantity
            $.ajax({
                url: "@Url.Action("PlaceOrderByWaitressAjax", "Guest")",
                data: { itemId: id, quantity: qty, guestId: guestId, tableId: tableId, guestOrderId: guestOrderId },
            dataType: "html",
            type: "POST",
            error: function ()
            {
                alert("An error occurred.");
            },
            success: function (data)
            {
                $("#tableOrderDiv").html("");
                $("#tableOrderDiv").html(data);
            }
            });
        });*@

       
            $('.smallCategorybox').click(function ()
            {
                var id = $(this).attr("id");
                var canaddItemInt = $("#CanaddItemInt").val();
                var guestOrderId = $("#GuestOrderId").val();



                $.ajax({
                    url: "@Url.Action("FilterByCategoryWaitress", "Guest")",
                    data: { id: id, canaddItemInt: canaddItemInt, guestOrderId: guestOrderId },
                dataType: "html",
                type: "POST",
                error: function() {
                    alert("An error occurred.");
                },
                success: function (data)
                {
                    $("#menuItemsDiv").html("");
                    $("#menuItemsDiv").html(data);
                }
            });
        });

   
    });
    </script>

}




@{
    ViewBag.Title = "Booking";
}

@Html.Partial("_ViewMenuResponsiveOrderWaitress")

@Html.Hidden("GROUP", Model.GuestCredentials + "#CUSTOMER#")
@Html.Hidden("PERSONNAME", @User.Identity.Name)
@Html.Hidden("TABLENUMBER", Model.TableId.ToString())
@Html.Hidden("URL", @Url.Action("PlaceOrder", "Guest").ToString())
@Html.Hidden("CUSTOMERIMPERSONATION", 1)
@Html.Hidden("NEWLYCREATEDTABLE", Model.NewlyCreatedTable)
@Html.Hidden("PROCESSINGCOMPLETED", 1)
@Html.Hidden("CanaddItemInt", Model.CanaddItemInt)
@Html.Hidden("WaitressId", Model.WaitressId)
@Html.Hidden("GuestOrderId", Model.GuestOrderId)
























