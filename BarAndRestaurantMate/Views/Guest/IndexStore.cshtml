@model BarAndRestaurantMate.Models.BaseViewModel

@{
    ViewBag.Title = "Home Page";
}

@section scripts
 {

    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    @*<script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>*@
    <!--Reference the autogenerated SignalR hub script. -->
    @*<script src="~/signalr/hubs"></script>*@
    <!--SignalR script to update the chat page and send messages.-->
    @*<script src="~/Scripts/automationconnection.js"></script>*@
}

@if (Model.Notify)
{
    <a style="float:left;" class="btn submit button" href="@Url.Action("LowStock", "Guest", new { id = 1 })"> Low Stock </a>
}

<a style="float:right;" class="btn submit button" href="@Url.Action("PresentStoreOrders", "Guest", new { id = 1 })"> Present Orders </a>

<hr />

<div class="twelve columns">

    @if (Model.Storelist.Any())
    {

        foreach (var tb in Model.Storelist)
        {
            <div class="three columns">
                <p>@tb.BarTab.TableAlias - <span style="color:red;">@((tb.BarTab.Person.DistributionPoint != null) ? tb.BarTab.Person.DistributionPoint.Description : "UNKNOWN")</span></p>
                <hr />
                @Html.Partial("_StoreTable", tb)
            </div>
        }

    }
    else
    {
        <p>There are no orders ready for delivery</p>
    }



    @if (Model.LoginFailed.HasValue && Model.LoginFailed.Value)
    {
        <h1 class="page-title ci-title"><span>Login Credentials not recognised.</span></h1>
        <p style="Color:Red;">Incorrect credentials. Username or password not recognised.</p>
    }

    @Html.Hidden("GROUP", "STORE")
    @Html.Hidden("STOREORDERCOMPLETED", "0")
    @Html.Hidden("PERSONNAME", @User.Identity.Name)

</div>

@section PaginationBox
{
    @Html.Partial("_Pagination")
}




