@model BarAndRestaurantMate.Models.HotelMenuModel


@section scripts 
{

<!--Script references. -->
<!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
<!--Reference the SignalR library. -->
@*<script src="~/Scripts/jquery.signalR-2.0.3.min.js"></script>*@

<!--Reference the autogenerated SignalR hub script. -->
@*<script src="~/signalr/hubs"></script>*@

<!--SignalR script to update the chat page and send messages.-->
@*<script src="~/Scripts/barconnection.js"></script>
@*<script src="~/Scripts/callerconnection.js"></script>*@*@

<script>
    $(function ()
    {
       

        $(".PlaceOrderCustomer").click(function ()
        {
          
            var id = $(this).attr("id");
            var strqty = "#quantity_" + id;
            var qty = $(strqty).val();
            var guestId = $("#GuestId").val();
            var tableId = $("#TableId").val();
            var guestOrderId = $("#GuestOrderId").val();

            //itemId, int? quantity
            $.ajax({
                url: "@Url.Action("PlaceOrderCustomerAjax", "Guest")",
                data: { itemId: id, quantity: qty, guestId: guestId, tableId: tableId, guestOrderId: guestOrderId },
            dataType: "html",
            type: "POST",
            error: function ()
            {
                alert("An error occurred.");
            },
            success: function (data)
            {
                $("#tableOrderDiv").html("");
                $("#tableOrderDiv").html(data);
            }
        });
    });

        

            $('.smallCategorybox').click(function ()
            {
                var id = $(this).attr("id");
                var canaddItemInt = $("#CanaddItemInt").val();


                $.ajax({
                    url: "@Url.Action("FilterByCategory", "Guest")",
                    data: { id: id, canaddItemInt: canaddItemInt },
                dataType: "html",
                type: "POST",
                error: function() {
                    alert("An error occurred.");
                },
                success: function (data)
                {
                    $("#menuItemsDiv").html("");
                    $("#menuItemsDiv").html(data);
                }
            });
        });

   
    });
</script>


}

<div class="twelve columns">

    @Html.Partial("_ViewMenuResponsiveOrder")



    @Html.Hidden("GROUP", @User.Identity.Name + "#CUSTOMER#")
    @Html.Hidden("PERSONNAME", @User.Identity.Name)
    @Html.Hidden("TABLENUMBER", Model.TableId.ToString())
    @Html.Hidden("URL", @Url.Action("PlaceOrder", "Guest").ToString())
    @Html.Hidden("GuestId", Model.GuestId)
    @Html.Hidden("TableId", Model.TableId)
    @Html.Hidden("GuestOrderId", Model.GuestOrderId)
    @Html.Hidden("CanaddItemInt", Model.CanaddItemInt)


</div>

@section PaginationBox
{
    @Html.Partial("_Pagination")
}






